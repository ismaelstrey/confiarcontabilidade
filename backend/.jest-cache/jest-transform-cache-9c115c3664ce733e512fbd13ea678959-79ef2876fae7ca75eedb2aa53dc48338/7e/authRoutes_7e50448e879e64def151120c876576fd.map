{"file":"D:\\dev\\contabil\\contabil-site\\backend\\src\\routes\\authRoutes.ts","mappings":";;AAAA,qCAAiC;AACjC,kEAA+D;AAC/D,8CAAwD;AAExD,MAAM,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;AAExB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAoFG;AAEH;;;;;;;;;;;;;;;;;;;;;;;GAuBG;AACH,MAAM,CAAC,IAAI,CAAC,WAAW,EAAE,+BAAc,CAAC,QAAQ,CAAC,CAAC;AAElD;;;;;;;;;;;;;;;;;;;;;;;GAuBG;AACH,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,+BAAc,CAAC,KAAK,CAAC,CAAC;AAE5C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAwCG;AACH,MAAM,CAAC,IAAI,CAAC,gBAAgB,EAAE,+BAAc,CAAC,YAAY,CAAC,CAAC;AAE3D;;;;;;;;;;;;;;;;;;;;;;GAsBG;AACH,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,wBAAiB,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;IACrD,oDAAoD;IACpD,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;QACnB,OAAO,EAAE,IAAI;QACb,OAAO,EAAE,8BAA8B;KACxC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC;AAEH;;;;;;;;;;;;;;;;;;;;;;;;;GAyBG;AACH,MAAM,CAAC,GAAG,CAAC,KAAK,EAAE,wBAAiB,EAAE,+BAAc,CAAC,UAAU,CAAC,CAAC;AAEhE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAyCG;AACH,MAAM,CAAC,IAAI,CAAC,kBAAkB,EAAE,wBAAiB,EAAE,+BAAc,CAAC,cAAc,CAAC,CAAC;AAElF,kBAAe,MAAM,CAAC","names":[],"sources":["D:\\dev\\contabil\\contabil-site\\backend\\src\\routes\\authRoutes.ts"],"sourcesContent":["import { Router } from 'express';\r\nimport { AuthController } from '../controllers/authController';\r\nimport { authenticateToken } from '../middlewares/auth';\r\n\r\nconst router = Router();\r\n\r\n/**\r\n * @swagger\r\n * components:\r\n *   schemas:\r\n *     LoginRequest:\r\n *       type: object\r\n *       required:\r\n *         - email\r\n *         - password\r\n *       properties:\r\n *         email:\r\n *           type: string\r\n *           format: email\r\n *           description: Email do usuário\r\n *         password:\r\n *           type: string\r\n *           minLength: 6\r\n *           description: Senha do usuário\r\n *     RegisterRequest:\r\n *       type: object\r\n *       required:\r\n *         - name\r\n *         - email\r\n *         - password\r\n *       properties:\r\n *         name:\r\n *           type: string\r\n *           minLength: 2\r\n *           description: Nome completo do usuário\r\n *         email:\r\n *           type: string\r\n *           format: email\r\n *           description: Email do usuário\r\n *         password:\r\n *           type: string\r\n *           minLength: 6\r\n *           description: Senha do usuário\r\n *         role:\r\n *           type: string\r\n *           enum: [USER, ADMIN, MODERATOR]\r\n *           description: Papel do usuário (opcional, padrão USER)\r\n *     AuthResponse:\r\n *       type: object\r\n *       properties:\r\n *         success:\r\n *           type: boolean\r\n *         message:\r\n *           type: string\r\n *         data:\r\n *           type: object\r\n *           properties:\r\n *             user:\r\n *               $ref: '#/components/schemas/User'\r\n *             tokens:\r\n *               type: object\r\n *               properties:\r\n *                 accessToken:\r\n *                   type: string\r\n *                 refreshToken:\r\n *                   type: string\r\n *     User:\r\n *       type: object\r\n *       properties:\r\n *         id:\r\n *           type: string\r\n *         name:\r\n *           type: string\r\n *         email:\r\n *           type: string\r\n *         role:\r\n *           type: string\r\n *         isActive:\r\n *           type: boolean\r\n *         createdAt:\r\n *           type: string\r\n *           format: date-time\r\n *         updatedAt:\r\n *           type: string\r\n *           format: date-time\r\n *   securitySchemes:\r\n *     bearerAuth:\r\n *       type: http\r\n *       scheme: bearer\r\n *       bearerFormat: JWT\r\n */\r\n\r\n/**\r\n * @swagger\r\n * /api/v1/auth/register:\r\n *   post:\r\n *     summary: Registrar novo usuário\r\n *     tags: [Autenticação]\r\n *     requestBody:\r\n *       required: true\r\n *       content:\r\n *         application/json:\r\n *           schema:\r\n *             $ref: '#/components/schemas/RegisterRequest'\r\n *     responses:\r\n *       201:\r\n *         description: Usuário registrado com sucesso\r\n *         content:\r\n *           application/json:\r\n *             schema:\r\n *               $ref: '#/components/schemas/AuthResponse'\r\n *       400:\r\n *         description: Dados inválidos\r\n *       409:\r\n *         description: Email já cadastrado\r\n */\r\nrouter.post('/register', AuthController.register);\r\n\r\n/**\r\n * @swagger\r\n * /api/v1/auth/login:\r\n *   post:\r\n *     summary: Fazer login\r\n *     tags: [Autenticação]\r\n *     requestBody:\r\n *       required: true\r\n *       content:\r\n *         application/json:\r\n *           schema:\r\n *             $ref: '#/components/schemas/LoginRequest'\r\n *     responses:\r\n *       200:\r\n *         description: Login realizado com sucesso\r\n *         content:\r\n *           application/json:\r\n *             schema:\r\n *               $ref: '#/components/schemas/AuthResponse'\r\n *       400:\r\n *         description: Dados inválidos\r\n *       401:\r\n *         description: Credenciais inválidas\r\n */\r\nrouter.post('/login', AuthController.login);\r\n\r\n/**\r\n * @swagger\r\n * /api/v1/auth/refresh-token:\r\n *   post:\r\n *     summary: Renovar token de acesso\r\n *     tags: [Autenticação]\r\n *     requestBody:\r\n *       required: true\r\n *       content:\r\n *         application/json:\r\n *           schema:\r\n *             type: object\r\n *             required:\r\n *               - refreshToken\r\n *             properties:\r\n *               refreshToken:\r\n *                 type: string\r\n *                 description: Token de renovação\r\n *     responses:\r\n *       200:\r\n *         description: Token renovado com sucesso\r\n *         content:\r\n *           application/json:\r\n *             schema:\r\n *               type: object\r\n *               properties:\r\n *                 success:\r\n *                   type: boolean\r\n *                 data:\r\n *                   type: object\r\n *                   properties:\r\n *                     tokens:\r\n *                       type: object\r\n *                       properties:\r\n *                         accessToken:\r\n *                           type: string\r\n *                         refreshToken:\r\n *                           type: string\r\n *       401:\r\n *         description: Token de renovação inválido\r\n */\r\nrouter.post('/refresh-token', AuthController.refreshToken);\r\n\r\n/**\r\n * @swagger\r\n * /api/v1/auth/logout:\r\n *   post:\r\n *     summary: Fazer logout\r\n *     tags: [Autenticação]\r\n *     security:\r\n *       - bearerAuth: []\r\n *     responses:\r\n *       200:\r\n *         description: Logout realizado com sucesso\r\n *         content:\r\n *           application/json:\r\n *             schema:\r\n *               type: object\r\n *               properties:\r\n *                 success:\r\n *                   type: boolean\r\n *                 message:\r\n *                   type: string\r\n *       401:\r\n *         description: Token inválido\r\n */\r\nrouter.post('/logout', authenticateToken, (req, res) => {\r\n  // TODO: Implementar blacklist de tokens para logout\r\n  res.status(200).json({\r\n    success: true,\r\n    message: 'Logout realizado com sucesso'\r\n  });\r\n});\r\n\r\n/**\r\n * @swagger\r\n * /api/v1/auth/me:\r\n *   get:\r\n *     summary: Obter dados do usuário logado\r\n *     tags: [Autenticação]\r\n *     security:\r\n *       - bearerAuth: []\r\n *     responses:\r\n *       200:\r\n *         description: Dados do usuário\r\n *         content:\r\n *           application/json:\r\n *             schema:\r\n *               type: object\r\n *               properties:\r\n *                 success:\r\n *                   type: boolean\r\n *                 data:\r\n *                   type: object\r\n *                   properties:\r\n *                     user:\r\n *                       $ref: '#/components/schemas/User'\r\n *       401:\r\n *         description: Token inválido\r\n */\r\nrouter.get('/me', authenticateToken, AuthController.getProfile);\r\n\r\n/**\r\n * @swagger\r\n * /api/v1/auth/change-password:\r\n *   post:\r\n *     summary: Alterar senha do usuário\r\n *     tags: [Autenticação]\r\n *     security:\r\n *       - bearerAuth: []\r\n *     requestBody:\r\n *       required: true\r\n *       content:\r\n *         application/json:\r\n *           schema:\r\n *             type: object\r\n *             required:\r\n *               - currentPassword\r\n *               - newPassword\r\n *             properties:\r\n *               currentPassword:\r\n *                 type: string\r\n *                 description: Senha atual\r\n *               newPassword:\r\n *                 type: string\r\n *                 minLength: 6\r\n *                 description: Nova senha\r\n *     responses:\r\n *       200:\r\n *         description: Senha alterada com sucesso\r\n *         content:\r\n *           application/json:\r\n *             schema:\r\n *               type: object\r\n *               properties:\r\n *                 success:\r\n *                   type: boolean\r\n *                 message:\r\n *                   type: string\r\n *       400:\r\n *         description: Dados inválidos\r\n *       401:\r\n *         description: Senha atual incorreta ou token inválido\r\n */\r\nrouter.post('/change-password', authenticateToken, AuthController.changePassword);\r\n\r\nexport default router;"],"version":3}