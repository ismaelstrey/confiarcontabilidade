{"version":3,"names":["cov_hg7083is9","actualCoverage","dotenv_1","s","__importDefault","require","default","config","exports","server","port","parseInt","b","process","env","PORT","NODE_ENV","database","url","DATABASE_URL","jwt","secret","JWT_SECRET","refreshSecret","JWT_REFRESH_SECRET","expiresIn","JWT_EXPIRES_IN","refreshExpiresIn","JWT_REFRESH_EXPIRES_IN","email","host","EMAIL_HOST","EMAIL_PORT","secure","EMAIL_SECURE","user","EMAIL_USER","password","EMAIL_PASSWORD","from","EMAIL_FROM","upload","maxFileSize","UPLOAD_MAX_FILE_SIZE","allowedTypes","UPLOAD_ALLOWED_TYPES","split","destination","UPLOAD_DESTINATION","cors","origin","CORS_ORIGIN","credentials","CORS_CREDENTIALS","rateLimit","windowMs","RATE_LIMIT_WINDOW_MS","max","RATE_LIMIT_MAX","cache","redis","REDIS_HOST","REDIS_PORT","REDIS_PASSWORD","db","REDIS_DB","maxRetriesPerRequest","REDIS_MAX_RETRIES","lazyConnect","REDIS_LAZY_CONNECT","ttl","CACHE_TTL","logs","level","LOG_LEVEL","file","LOG_FILE","maxSize","LOG_MAX_SIZE","maxFiles","LOG_MAX_FILES","requiredEnvVars","envVar","Error"],"sources":["D:\\dev\\contabil\\contabil-site\\backend\\src\\config\\config.ts"],"sourcesContent":["import dotenv from 'dotenv';\r\n\r\n// Carrega variáveis de ambiente do arquivo .env\r\ndotenv.config();\r\n\r\nexport const config = {\r\n  // Configurações do servidor\r\n  server: {\r\n    port: parseInt(process.env.PORT || '3000', 10),\r\n    env: process.env.NODE_ENV || 'development',\r\n  },\r\n\r\n  // Configurações do banco de dados\r\n  database: {\r\n    url: process.env.DATABASE_URL || '',\r\n  },\r\n\r\n  // Configurações JWT\r\n  jwt: {\r\n    secret: process.env.JWT_SECRET || 'your-secret-key',\r\n    refreshSecret: process.env.JWT_REFRESH_SECRET || 'your-refresh-secret-key',\r\n    expiresIn: process.env.JWT_EXPIRES_IN || '1h',\r\n    refreshExpiresIn: process.env.JWT_REFRESH_EXPIRES_IN || '7d',\r\n  },\r\n\r\n  // Configurações de email\r\n  email: {\r\n    host: process.env.EMAIL_HOST || 'smtp.gmail.com',\r\n    port: parseInt(process.env.EMAIL_PORT || '587', 10),\r\n    secure: process.env.EMAIL_SECURE === 'true',\r\n    user: process.env.EMAIL_USER || '',\r\n    password: process.env.EMAIL_PASSWORD || '',\r\n    from: process.env.EMAIL_FROM || 'noreply@example.com',\r\n  },\r\n\r\n  // Configurações de upload\r\n  upload: {\r\n    maxFileSize: parseInt(process.env.UPLOAD_MAX_FILE_SIZE || '5242880', 10), // 5MB\r\n    allowedTypes: (process.env.UPLOAD_ALLOWED_TYPES || 'image/jpeg,image/png,image/gif,application/pdf').split(','),\r\n    destination: process.env.UPLOAD_DESTINATION || './uploads',\r\n  },\r\n\r\n  // Configurações de CORS\r\n  cors: {\r\n    origin: process.env.CORS_ORIGIN || 'http://localhost:3000',\r\n    credentials: process.env.CORS_CREDENTIALS === 'true',\r\n  },\r\n\r\n  // Configurações de rate limiting\r\n  rateLimit: {\r\n    windowMs: parseInt(process.env.RATE_LIMIT_WINDOW_MS || '900000', 10), // 15 minutos\r\n    max: parseInt(process.env.RATE_LIMIT_MAX || '100', 10), // máximo 100 requests por windowMs\r\n  },\r\n\r\n  // Configurações de cache\r\n  cache: {\r\n    redis: {\r\n      host: process.env.REDIS_HOST || 'localhost',\r\n      port: parseInt(process.env.REDIS_PORT || '6379', 10),\r\n      password: process.env.REDIS_PASSWORD || '',\r\n      db: parseInt(process.env.REDIS_DB || '0', 10),\r\n      maxRetriesPerRequest: parseInt(process.env.REDIS_MAX_RETRIES || '3', 10),\r\n      lazyConnect: process.env.REDIS_LAZY_CONNECT === 'true',\r\n    },\r\n    ttl: parseInt(process.env.CACHE_TTL || '3600', 10), // 1 hora\r\n  },\r\n\r\n  // Configurações de logs\r\n  logs: {\r\n    level: process.env.LOG_LEVEL || 'info',\r\n    file: process.env.LOG_FILE || 'logs/app.log',\r\n    maxSize: process.env.LOG_MAX_SIZE || '20m',\r\n    maxFiles: parseInt(process.env.LOG_MAX_FILES || '14', 10),\r\n  },\r\n};\r\n\r\n// Validação de configurações obrigatórias\r\nconst requiredEnvVars = [\r\n  'DATABASE_URL',\r\n  'JWT_SECRET',\r\n  'JWT_REFRESH_SECRET',\r\n];\r\n\r\nfor (const envVar of requiredEnvVars) {\r\n  if (!process.env[envVar]) {\r\n    throw new Error(`Variável de ambiente obrigatória não definida: ${envVar}`);\r\n  }\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}