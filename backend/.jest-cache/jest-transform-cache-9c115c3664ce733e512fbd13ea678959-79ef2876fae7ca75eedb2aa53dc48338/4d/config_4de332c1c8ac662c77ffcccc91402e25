e70310bd9b82820c47a6b58e40b27509
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.config = void 0;
const dotenv_1 = __importDefault(require("dotenv"));
// Carrega variáveis de ambiente do arquivo .env
dotenv_1.default.config();
exports.config = {
    // Configurações do servidor
    server: {
        port: parseInt(process.env.PORT || '3000', 10),
        env: process.env.NODE_ENV || 'development',
    },
    // Configurações do banco de dados
    database: {
        url: process.env.DATABASE_URL || '',
    },
    // Configurações JWT
    jwt: {
        secret: process.env.JWT_SECRET || 'your-secret-key',
        refreshSecret: process.env.JWT_REFRESH_SECRET || 'your-refresh-secret-key',
        expiresIn: process.env.JWT_EXPIRES_IN || '1h',
        refreshExpiresIn: process.env.JWT_REFRESH_EXPIRES_IN || '7d',
    },
    // Configurações de email
    email: {
        host: process.env.EMAIL_HOST || 'smtp.gmail.com',
        port: parseInt(process.env.EMAIL_PORT || '587', 10),
        secure: process.env.EMAIL_SECURE === 'true',
        user: process.env.EMAIL_USER || '',
        password: process.env.EMAIL_PASSWORD || '',
        from: process.env.EMAIL_FROM || 'noreply@example.com',
    },
    // Configurações de upload
    upload: {
        maxFileSize: parseInt(process.env.UPLOAD_MAX_FILE_SIZE || '5242880', 10), // 5MB
        allowedTypes: (process.env.UPLOAD_ALLOWED_TYPES || 'image/jpeg,image/png,image/gif,application/pdf').split(','),
        destination: process.env.UPLOAD_DESTINATION || './uploads',
    },
    // Configurações de CORS
    cors: {
        origin: process.env.CORS_ORIGIN || 'http://localhost:3000',
        credentials: process.env.CORS_CREDENTIALS === 'true',
    },
    // Configurações de rate limiting
    rateLimit: {
        windowMs: parseInt(process.env.RATE_LIMIT_WINDOW_MS || '900000', 10), // 15 minutos
        max: parseInt(process.env.RATE_LIMIT_MAX || '100', 10), // máximo 100 requests por windowMs
    },
    // Configurações de cache
    cache: {
        redis: {
            host: process.env.REDIS_HOST || 'localhost',
            port: parseInt(process.env.REDIS_PORT || '6379', 10),
            password: process.env.REDIS_PASSWORD || '',
            db: parseInt(process.env.REDIS_DB || '0', 10),
            maxRetriesPerRequest: parseInt(process.env.REDIS_MAX_RETRIES || '3', 10),
            lazyConnect: process.env.REDIS_LAZY_CONNECT === 'true',
        },
        ttl: parseInt(process.env.CACHE_TTL || '3600', 10), // 1 hora
    },
    // Configurações de logs
    logs: {
        level: process.env.LOG_LEVEL || 'info',
        file: process.env.LOG_FILE || 'logs/app.log',
        maxSize: process.env.LOG_MAX_SIZE || '20m',
        maxFiles: parseInt(process.env.LOG_MAX_FILES || '14', 10),
    },
};
// Validação de configurações obrigatórias
const requiredEnvVars = [
    'DATABASE_URL',
    'JWT_SECRET',
    'JWT_REFRESH_SECRET',
];
for (const envVar of requiredEnvVars) {
    if (!process.env[envVar]) {
        throw new Error(`Variável de ambiente obrigatória não definida: ${envVar}`);
    }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiRDpcXGRldlxcY29udGFiaWxcXGNvbnRhYmlsLXNpdGVcXGJhY2tlbmRcXHNyY1xcY29uZmlnXFxjb25maWcudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsb0RBQTRCO0FBRTVCLGdEQUFnRDtBQUNoRCxnQkFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBRUgsUUFBQSxNQUFNLEdBQUc7SUFDcEIsNEJBQTRCO0lBQzVCLE1BQU0sRUFBRTtRQUNOLElBQUksRUFBRSxRQUFRLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksTUFBTSxFQUFFLEVBQUUsQ0FBQztRQUM5QyxHQUFHLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLElBQUksYUFBYTtLQUMzQztJQUVELGtDQUFrQztJQUNsQyxRQUFRLEVBQUU7UUFDUixHQUFHLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxZQUFZLElBQUksRUFBRTtLQUNwQztJQUVELG9CQUFvQjtJQUNwQixHQUFHLEVBQUU7UUFDSCxNQUFNLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLElBQUksaUJBQWlCO1FBQ25ELGFBQWEsRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQixJQUFJLHlCQUF5QjtRQUMxRSxTQUFTLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjLElBQUksSUFBSTtRQUM3QyxnQkFBZ0IsRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLHNCQUFzQixJQUFJLElBQUk7S0FDN0Q7SUFFRCx5QkFBeUI7SUFDekIsS0FBSyxFQUFFO1FBQ0wsSUFBSSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsVUFBVSxJQUFJLGdCQUFnQjtRQUNoRCxJQUFJLEVBQUUsUUFBUSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsVUFBVSxJQUFJLEtBQUssRUFBRSxFQUFFLENBQUM7UUFDbkQsTUFBTSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsWUFBWSxLQUFLLE1BQU07UUFDM0MsSUFBSSxFQUFFLE9BQU8sQ0FBQyxHQUFH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InNvdXJjZXMiOlsiRDpcXGRldlxcY29udGFiaWxcXGNvbnRhYmlsLXNpdGVcXGJhY2tlbmRcXHNyY1xcY29uZmlnXFxjb25maWcudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xyXG5cclxuLy8gQ2FycmVnYSB2YXJpw6F2ZWlzIGRlIGFtYmllbnRlIGRvIGFycXVpdm8gLmVudlxyXG5kb3RlbnYuY29uZmlnKCk7XHJcblxyXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xyXG4gIC8vIENvbmZpZ3VyYcOnw7VlcyBkbyBzZXJ2aWRvclxyXG4gIHNlcnZlcjoge1xyXG4gICAgcG9ydDogcGFyc2VJbnQocHJvY2Vzcy5lbnYuUE9SVCB8fCAnMzAwMCcsIDEwKSxcclxuICAgIGVudjogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgfHwgJ2RldmVsb3BtZW50JyxcclxuICB9LFxyXG5cclxuICAvLyBDb25maWd1cmHDp8O1ZXMgZG8gYmFuY28gZGUgZGFkb3NcclxuICBkYXRhYmFzZToge1xyXG4gICAgdXJsOiBwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwgfHwgJycsXHJcbiAgfSxcclxuXHJcbiAgLy8gQ29uZmlndXJhw6fDtWVzIEpXVFxyXG4gIGp3dDoge1xyXG4gICAgc2VjcmV0OiBwcm9jZXNzLmVudi5KV1RfU0VDUkVUIHx8ICd5b3VyLXNlY3JldC1rZXknLFxyXG4gICAgcmVmcmVzaFNlY3JldDogcHJvY2Vzcy5lbnYuSldUX1JFRlJFU0hfU0VDUkVUIHx8ICd5b3VyLXJlZnJlc2gtc2VjcmV0LWtleScsXHJcbiAgICBleHBpcmVzSW46IHByb2Nlc3MuZW52LkpXVF9FWFBJUkVTX0lOIHx8ICcxaCcsXHJcbiAgICByZWZyZXNoRXhwaXJlc0luOiBwcm9jZXNzLmVudi5KV1RfUkVGUkVTSF9FWFBJUkVTX0lOIHx8ICc3ZCcsXHJcbiAgfSxcclxuXHJcbiAgLy8gQ29uZmlndXJhw6fDtWVzIGRlIGVtYWlsXHJcbiAgZW1haWw6IHtcclxuICAgIGhvc3Q6IHByb2Nlc3MuZW52LkVNQUlMX0hPU1QgfHwgJ3NtdHAuZ21haWwuY29tJyxcclxuICAgIHBvcnQ6IHBhcnNlSW50KHByb2Nlc3MuZW52LkVNQUlMX1BPUlQgfHwgJzU4NycsIDEwKSxcclxuICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuRU1BSUxfU0VDVVJFID09PSAndHJ1ZScsXHJcbiAgICB1c2VyOiBwcm9jZXNzLmVudi5FTUFJTF9VU0VSIHx8ICcnLFxyXG4gICAgcGFzc3dvcmQ6IHByb2Nlc3MuZW52LkVNQUlMX1BBU1NXT1JEIHx8ICcnLFxyXG4gICAgZnJvbTogcHJvY2Vzcy5lbnYuRU1BSUxfRlJPTSB8fCAnbm9yZXBseUBleGFtcGxlLmNvbScsXHJcbiAgfSxcclxuXHJcbiAgLy8gQ29uZmlndXJhw6fDtWVzIGRlIHVwbG9hZFxyXG4gIHVwbG9hZDoge1xyXG4gICAgbWF4RmlsZVNpemU6IHBhcnNlSW50KHByb2Nlc3MuZW52LlVQTE9BRF9NQVhfRklMRV9TSVpFIHx8ICc1MjQyODgwJywgMTApLCAvLyA1TUJcclxuICAgIGFsbG93ZWRUeXBlczogKHByb2Nlc3MuZW52LlVQTE9BRF9BTExPV0VEX1RZUEVTIHx8ICdpbWFnZS9qcGVnLGltYWdlL3BuZyxpbWFnZS9naWYsYXBwbGljYXRpb24vcGRmJykuc3BsaXQoJywnKSxcclxuICAgIGRlc3RpbmF0aW9uOiBwcm9jZXNzLmVudi5VUExPQURfREVTVElOQVRJT04gfHwgJy4vdXBsb2FkcycsXHJcbiAgfSxcclxuXHJcbiAgLy8gQ29uZmlndXJhw6fDtWVzIGRlIENPUlNcclxuICBjb3JzOiB7XHJcbiAgICBvcmlnaW46IHByb2Nlc3MuZW52LkNPUlNfT1JJR0lOIHx8ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnLFxyXG4gICAgY3JlZGVudGlhbHM6IHByb2Nlc3MuZW52LkNPUlNfQ1JFREVOVElBTFMgPT09ICd0cnVlJyxcclxuICB9LFxyXG5cclxuICAvLyBDb25maWd1cmHDp8O1ZXMgZGUgcmF0ZSBsaW1pdGluZ1xyXG4gIHJhdGVMaW1pdDoge1xyXG4gICAgd2luZG93TXM6IHBhcnNlSW50KHByb2Nlc3MuZW52LlJBVEVfTElNSVRfV0lORE9XX01TIHx8ICc5MDAwMDAnLCAxMCksIC8vIDE1IG1pbnV0b3NcclxuICAgIG1heDogcGFyc2VJbnQocHJvY2Vzcy5lbnYuUkFURV9MSU1JVF9NQVggfHwgJzEwMCcsIDEwKSwgLy8gbcOheGltbyAxMDAgcmVxdWVzdHMgcG9yIHdpbmRvd01zXHJcbiAgfSxcclxuXHJcbiAgLy8gQ29uZmlndXJhw6fDtWVzIGRlIGNhY2hlXHJcbiAgY2FjaGU6IHtcclxuICAgIHJlZGlzOiB7XHJcbiAgICAgIGhvc3Q6IHByb2Nlc3MuZW52LlJFRElTX0hPU1QgfHwgJ2xvY2FsaG9zdCcsXHJcbiAgICAgIHBvcnQ6IHBhcnNlSW50KHByb2Nlc3MuZW52LlJFRElTX1BPUlQgfHwgJzYzNzknLCAxMCksXHJcbiAgICAgIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5SRURJU19QQVNTV09SRCB8fCAnJyxcclxuICAgICAgZGI6IHBhcnNlSW50KHByb2Nlc3MuZW52LlJFRElTX0RCIHx8ICcwJywgMTApLFxyXG4gICAgICBtYXhSZXRyaWVzUGVyUmVxdWVzdDogcGFyc2VJbnQocHJvY2Vzcy5lbnYuUkVESVNfTUFYX1JFVFJJRVMgfHwgJzMnLCAxMCksXHJcbiAgICAgIGxhenlDb25uZWN0OiBwcm9jZXNzLmVudi5SRURJU19MQVpZX0NPTk5FQ1QgPT09ICd0cnVlJyxcclxuICAgIH0sXHJcbiAgICB0dGw6IHBhcnNlSW50KHByb2Nlc3MuZW52LkNBQ0hFX1RUTCB8fCAnMzYwMCcsIDEwKSwgLy8gMSBob3JhXHJcbiAgfSxcclxuXHJcbiAgLy8gQ29uZmlndXJhw6fDtWVzIGRlIGxvZ3NcclxuICBsb2dzOiB7XHJcbiAgICBsZXZlbDogcHJvY2Vzcy5lbnYuTE9HX0xFVkVMIHx8ICdpbmZvJyxcclxuICAgIGZpbGU6IHByb2Nlc3MuZW52LkxPR19GSUxFIHx8ICdsb2dzL2FwcC5sb2cnLFxyXG4gICAgbWF4U2l6ZTogcHJvY2Vzcy5lbnYuTE9HX01BWF9TSVpFIHx8ICcyMG0nLFxyXG4gICAgbWF4RmlsZXM6IHBhcnNlSW50KHByb2Nlc3MuZW52LkxPR19NQVhfRklMRVMgfHwgJzE0JywgMTApLFxyXG4gIH0sXHJcbn07XHJcblxyXG4vLyBWYWxpZGHDp8OjbyBkZSBjb25maWd1cmHDp8O1ZXMgb2JyaWdhdMOzcmlhc1xyXG5jb25zdCByZXF1aXJlZEVudlZhcnMgPSBbXHJcbiAgJ0RBVEFCQVNFX1VSTCcsXHJcbiAgJ0pXVF9TRUNSRVQnLFxyXG4gICdKV1RfUkVGUkVTSF9TRUNSRVQnLFxyXG5dO1xyXG5cclxuZm9yIChjb25zdCBlbnZWYXIgb2YgcmVxdWlyZWRFbnZWYXJzKSB7XHJcbiAgaWYgKCFwcm9jZXNzLmVudltlbnZWYXJdKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFZhcmnDoXZlbCBkZSBhbWJpZW50ZSBvYnJpZ2F0w7NyaWEgbsOjbyBkZWZpbmlkYTogJHtlbnZWYXJ9YCk7XHJcbiAgfVxyXG59Il0sInZlcnNpb24iOjN9